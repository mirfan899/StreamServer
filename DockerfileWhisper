FROM python:3.10.10-buster

WORKDIR app/

COPY . .

RUN apt-get install portaudio19-dev python-all-dev
RUN apt update
RUN pip install --upgrade pip setuptools
RUN pip install wheel
RUN pip install -r requirements.txt --no-cache-dir
RUN bash download.sh

EXPOSE 5000

CMD ["python", "server.py"]